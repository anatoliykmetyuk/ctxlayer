<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="CtxLayer - Structured context for AI agents during iterative development. Projects, tasks, docs, and data in one place.">
  <title>CtxLayer — Context Layer for AI Agents</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <a href="#main" class="skip-link">Skip to main content</a>

  <header class="header">
    <nav>
      <a href="https://github.com/anatoliykmetyuk/ctxlayer">GitHub</a>
    </nav>
  </header>

  <main id="main">
    <h1 class="sr-only">CtxLayer</h1>
    <section class="hero">
      <div class="hero-command">
        <input type="text" readonly value="git clone https://github.com/anatoliykmetyuk/ctxlayer && cd ctxlayer && npm install && npm link" id="hero-cmd" aria-label="Install command" spellcheck="false" />
        <button type="button" class="copy-btn" aria-label="Copy to clipboard">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
          <span aria-live="polite" aria-atomic="true">Copy</span>
        </button>
      </div>
    </section>

    <section class="value-props">
      <h2>What it does</h2>
      <p>Organize context by project and task. A task is like a branch—create one for each feature, refactor, or spike. Each task has <code>docs/</code> for documentation (numbered markdown) and <code>data/</code> for reference material, repos, and sample data.</p>
      <p>Projects live at <code>~/.agents/ctxlayer/projects/</code>. A local <code>.ctxlayer/config.yaml</code> tracks the active project and task. An agent skill teaches AI coding assistants (Cursor, Claude Code) how to use the ctx CLI, write docs, and manage context.</p>
    </section>

    <section class="cli-commands">
      <h2>CLI commands</h2>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Command</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><code>ctx</code></td><td>Show help</td></tr>
            <tr><td><code>ctx new [name]</code></td><td>Create a new task</td></tr>
            <tr><td><code>ctx import</code></td><td>Import a task as local symlink</td></tr>
            <tr><td><code>ctx git [args...]</code></td><td>Run git in current task</td></tr>
            <tr><td><code>ctx status</code></td><td>Show active project and task</td></tr>
            <tr><td><code>ctx set</code></td><td>Set active project and task</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="config">
      <h2>Config</h2>
      <p><code>.ctxlayer/config.yaml</code> in your repo:</p>
      <div class="config-block">
        <pre><code id="config-code">active-project: my-project
active-task: my-task</code></pre>
        <button type="button" class="copy-btn config-copy-btn" aria-label="Copy config">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
          <span aria-live="polite" aria-atomic="true">Copy</span>
        </button>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p><a href="https://github.com/anatoliykmetyuk/ctxlayer">CtxLayer</a> — Apache-2.0</p>
  </footer>

  <script>
    (function() {
      // Hero copy button
      var heroBtn = document.querySelector('.hero-command .copy-btn');
      var input = document.getElementById('hero-cmd');
      if (heroBtn && input) {
        heroBtn.addEventListener('click', function() {
          navigator.clipboard.writeText(input.value).then(function() {
            var span = heroBtn.querySelector('span');
            if (span) { span.textContent = 'Copied!'; }
            setTimeout(function() { if (span) span.textContent = 'Copy'; }, 1500);
          });
        });
      }
      // Config copy button
      var configBtn = document.querySelector('.config-copy-btn');
      var configCode = document.getElementById('config-code');
      if (configBtn && configCode) {
        configBtn.addEventListener('click', function() {
          navigator.clipboard.writeText(configCode.textContent).then(function() {
            var span = configBtn.querySelector('span');
            if (span) { span.textContent = 'Copied!'; }
            setTimeout(function() { if (span) span.textContent = 'Copy'; }, 1500);
          });
        });
      }
    })();
  </script>
</body>
</html>
